# Silverlight 2.0 içerisinde ControlTemplating ve Style yapıları. 

**Silverlight 2.0 Beta 1** ile beraber gelen görsel özellikler
içerisinde özellikle tasarımcıların en çok beğenecekleri ve bildiğimiz
teknolojiler arasında CSS'e benzetebileceğimiz "**Resource**" yapısı çok
önemli bir yere sahip. WPF'de hali hazırda var olan ve Silverlight
tarafına da (ciddi farklılıklar ile) taşınan bu özellikler sayesinde
Silverlight uygulamaları içerisinde kontrollerin programatik
işlevselliklerinden bağımsız olarak görsel özellikleri ayarlanabildiği
gibi merkezi bir yönetim de sağlanabiliyor. Gelin hızlı bir örnek ile
konumuza giriş yapalım.

<span style="color: blue;">\<</span><span
style="color: #a31515;">UserControl</span><span style="color: blue;">
</span><span style="color: red;">x:Class</span><span
style="color: blue;">=</span>"<span
style="color: blue;">SilverlightApplication7.Page</span>"

<span style="color: blue;">    </span><span
style="color: red;">xmlns</span><span
style="color: blue;">=</span>"<span
style="color: blue;">http://schemas.microsoft.com/client/2007</span>"<span
style="color: blue;"> </span>

<span style="color: blue;">    </span><span
style="color: red;">xmlns:x</span><span
style="color: blue;">=</span>"<span
style="color: blue;">http://schemas.microsoft.com/winfx/2006/xaml</span>"<span
style="color: blue;"> </span>

<span style="color: blue;">    </span><span
style="color: red;">Width</span><span
style="color: blue;">=</span>"<span
style="color: blue;">400</span>"<span style="color: blue;"> </span><span
style="color: red;">Height</span><span
style="color: blue;">=</span>"<span
style="color: blue;">300</span>"<span style="color: blue;">\></span>

<span style="color: blue;">    \<</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">
</span><span style="color: red;">x:Name</span><span
style="color: blue;">=</span>"<span
style="color: blue;">LayoutRoot</span>"<span style="color: blue;">
</span><span style="color: red;">Background</span><span
style="color: blue;">=</span>"<span
style="color: blue;">White</span>"<span style="color: blue;">\></span>

<span style="color: blue;">      \<</span><span
style="color: #a31515;">Button</span><span style="color: blue;">
</span><span style="color: red;">HorizontalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Stretch</span>"<span style="color: blue;">
</span><span style="color: red;">Margin</span><span
style="color: blue;">=</span>"<span
style="color: blue;">44,54,55,45</span>"<span style="color: blue;">
</span><span style="color: red;">VerticalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Stretch</span>"<span style="color: blue;">
</span><span style="color: red;">Content</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Button</span>"<span style="color: blue;">/\></span>

<span style="color: blue;">    \</</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">\></span>

<span style="color: blue;">\</</span><span
style="color: #a31515;">UserControl</span><span
style="color: blue;">\></span>

İlk olarak yukarıdaki gibi yaratacağımız yeni bir Silverlight 2.0
uygulamasına basit bir **Button** yerleştirelim ve Button içerisinde
yazının (**Content**) yerine farklı birşeyler koymayı deneyelim.
Yukarıdaki kod içerisinde **Content** değeri doğrudan bit metne
eşitlenmiş durumda. Oysa bu değerin içerisine başka bir Silverlight
kontrolü yerleştirebiliriz.

<span style="color: blue;">\<</span><span
style="color: #a31515;">UserControl</span><span style="color: blue;">
</span><span style="color: red;">x:Class</span><span
style="color: blue;">=</span>"<span
style="color: blue;">SilverlightApplication7.Page</span>"

<span style="color: blue;">    </span><span
style="color: red;">xmlns</span><span
style="color: blue;">=</span>"<span
style="color: blue;">http://schemas.microsoft.com/client/2007</span>"

<span style="color: blue;">    </span><span
style="color: red;">xmlns:x</span><span
style="color: blue;">=</span>"<span
style="color: blue;">http://schemas.microsoft.com/winfx/2006/xaml</span>"

<span style="color: blue;">    </span><span
style="color: red;">Width</span><span
style="color: blue;">=</span>"<span
style="color: blue;">400</span>"<span style="color: blue;"> </span><span
style="color: red;">Height</span><span
style="color: blue;">=</span>"<span
style="color: blue;">300</span>"<span style="color: blue;">\></span>

<span style="color: blue;">  \<</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">
</span><span style="color: red;">x:Name</span><span
style="color: blue;">=</span>"<span
style="color: blue;">LayoutRoot</span>"<span style="color: blue;">
</span><span style="color: red;">Background</span><span
style="color: blue;">=</span>"<span
style="color: blue;">White</span>"<span style="color: blue;">\></span>

<span style="color: blue;">    \<</span><span
style="color: #a31515;">Button</span><span style="color: blue;">
</span><span style="color: red;">HorizontalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Stretch</span>"<span style="color: blue;">
</span><span style="color: red;">Margin</span><span
style="color: blue;">=</span>"<span
style="color: blue;">44,54,55,45</span>"<span style="color: blue;">
</span><span style="color: red;">VerticalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Stretch</span>"<span style="color: blue;">\></span>

<span style="color: blue;">      **\<**</span><span
style="color: #a31515;">**Button.Content**</span><span
style="color: blue;">\></span>

<span style="color: blue;">        \<</span><span
style="color: #a31515;">Image</span><span style="color: blue;">
</span><span style="color: red;">Height</span><span
style="color: blue;">=</span>"<span style="color: blue;">84</span>"<span
style="color: blue;"> </span><span
style="color: red;">HorizontalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Center</span>"<span style="color: blue;"> 
</span><span style="color: red;">VerticalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Center</span>"<span style="color: blue;">
</span><span style="color: red;">Width</span><span
style="color: blue;">=</span>"<span
style="color: blue;">139</span>"<span style="color: blue;"> </span><span
style="color: red;">Source</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Dock.jpg</span>"<span
style="color: blue;">/\></span>

<span style="color: blue;">  **    \</**</span><span
style="color: #a31515;">**Button.Content**</span><span
style="color: blue;">\></span>

<span style="color: blue;">    \</</span><span
style="color: #a31515;">Button</span><span
style="color: blue;">\></span>

<span style="color: blue;">  \</</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">\></span>

<span style="color: blue;">\</</span><span
style="color: #a31515;">UserControl</span><span
style="color: blue;">\></span>

Yukarıdaki kod içerisinde **Button** nesnesinin **Content** özelliğini
belirlemek için Button tagları arasında ayrıca bir **Button.Content**
tagları açtık.

![Button.Content özelliğini değiştirilen Button nesnesi
sağda.](../media/Silverlight_2_0_icerisinde_ControlTemplating_ve_Style_yapilari/05052008_1.jpg)\
*Button.Content özelliğini değiştirilen Button nesnesi sağda.*

Bu noktada Button.Content içerisinde istediğiniz Silverlight kontrolünü
yerleştirebilirsiniz fakat dikkat etmeniz gereken bir nokta var;
maalesef bu taglar arasında sadece bir Silverlight kontrolü
yerleştirilebilir. Aslında cümle olarak yanlış bir cümle oldu, daha
doğru tabiri ile Button.Content içerisinde XAML kodunun her zaman tek
bir RootElement'inin olması gerekiyor. Yani eğer bu bölgeye iki kontrol
yerleştirmek istiyorsanız kontrollerinizi bir Container Element
içerisinde gruplayarak yerleştirmek zorundasınız. Aşağıdaki örneğimizde
**Container Element** olarak bir **StackPanel** kullanacağız.

<span style="color: blue;">\<</span><span
style="color: #a31515;">UserControl</span><span style="color: blue;">
</span><span style="color: red;">x:Class</span><span
style="color: blue;">=</span>"<span
style="color: blue;">SilverlightApplication7.Page</span>"

<span style="color: blue;">    </span><span
style="color: red;">xmlns</span><span
style="color: blue;">=</span>"<span
style="color: blue;">http://schemas.microsoft.com/client/2007</span>"

<span style="color: blue;">    </span><span
style="color: red;">xmlns:x</span><span
style="color: blue;">=</span>"<span
style="color: blue;">http://schemas.microsoft.com/winfx/2006/xaml</span>"

<span style="color: blue;">    </span><span
style="color: red;">Width</span><span
style="color: blue;">=</span>"<span
style="color: blue;">400</span>"<span style="color: blue;"> </span><span
style="color: red;">Height</span><span
style="color: blue;">=</span>"<span
style="color: blue;">300</span>"<span style="color: blue;">\></span>

<span style="color: blue;">  \<</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">
</span><span style="color: red;">x:Name</span><span
style="color: blue;">=</span>"<span
style="color: blue;">LayoutRoot</span>"<span style="color: blue;">
</span><span style="color: red;">Background</span><span
style="color: blue;">=</span>"<span
style="color: blue;">White</span>"<span style="color: blue;">\></span>

<span style="color: blue;">    \<</span><span
style="color: #a31515;">Button</span><span style="color: blue;">
</span><span style="color: red;">HorizontalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Stretch</span>"<span style="color: blue;">
</span><span style="color: red;">Margin</span><span
style="color: blue;">=</span>"<span
style="color: blue;">44,54,55,45</span>"<span style="color: blue;">
</span><span style="color: red;">VerticalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Stretch</span>"<span style="color: blue;">\></span>

<span style="color: blue;">      \<</span><span
style="color: #a31515;">Button.Content</span><span
style="color: blue;">\></span>

<span style="color: blue;">        \<</span><span
style="color: #a31515;">**StackPanel**</span><span style="color: blue;">
</span><span style="color: red;">Orientation</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Horizontal</span>"<span
style="color: blue;">\></span>

<span style="color: blue;">          \<</span><span
style="color: #a31515;">Image</span><span style="color: blue;">
</span><span style="color: red;">Height</span><span
style="color: blue;">=</span>"<span style="color: blue;">84</span>"<span
style="color: blue;"> </span><span
style="color: red;">HorizontalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Center</span>"<span style="color: blue;"> 
</span><span style="color: red;">VerticalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Center</span>"<span style="color: blue;">
</span><span style="color: red;">Width</span><span
style="color: blue;">=</span>"<span
style="color: blue;">139</span>"<span style="color: blue;"> </span><span
style="color: red;">Source</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Dock.jpg</span>"<span
style="color: blue;">/\></span>

<span style="color: blue;">          \<</span><span
style="color: #a31515;">Image</span><span style="color: blue;">
</span><span style="color: red;">Height</span><span
style="color: blue;">=</span>"<span style="color: blue;">84</span>"<span
style="color: blue;"> </span><span
style="color: red;">HorizontalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Center</span>"<span style="color: blue;"> 
</span><span style="color: red;">VerticalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Center</span>"<span style="color: blue;">
</span><span style="color: red;">Width</span><span
style="color: blue;">=</span>"<span
style="color: blue;">139</span>"<span style="color: blue;"> </span><span
style="color: red;">Source</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Dock.jpg</span>"<span
style="color: blue;">/\></span>

<span style="color: blue;">        \</</span><span
style="color: #a31515;">**StackPanel**</span><span
style="color: blue;">\></span>

<span style="color: blue;">      \</</span><span
style="color: #a31515;">Button.Content</span><span
style="color: blue;">\></span>

<span style="color: blue;">    \</</span><span
style="color: #a31515;">Button</span><span
style="color: blue;">\></span>

<span style="color: blue;">  \</</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">\></span>

<span style="color: blue;">\</</span><span
style="color: #a31515;">UserControl</span><span
style="color: blue;">\></span>

Gördüğünüz gibi Root Element olarak Button.Content içerisinde bir
StackPanel kullandıktan sonra artık StackPanel içerisine istediğimiz
kadar kontrol yerleştirebiliyoruz.

![Button.Content içerisinde birden çok Silverlight
kontrolü.](../media/Silverlight_2_0_icerisinde_ControlTemplating_ve_Style_yapilari/05052008_2.jpg)\
*Button.Content içerisinde birden çok Silverlight kontrolü.*

Bu yapı ile farklı kontrollerinin farklı görsel özelliklerini tanımlamak
mümkün.

**Bir kontrolün tüm görsel yapısını nasıl değiştiririz?**

Bu noktaya kadar elimizdeki bir düğmenin içerisinde farklı Silverlight
kontrolleri yerleştirdik. Oysa söz konusu düğmenin tüm görsel yapısını
değiştirmek de isteyebilirdiniz. Örneğin bir Resim nesneninin bir Button
olarak tanımlanması mümkün müdür?

<span style="color: blue;">\<</span><span
style="color: #a31515;">UserControl</span><span style="color: blue;">
</span><span style="color: red;">x:Class</span><span
style="color: blue;">=</span>"<span
style="color: blue;">SilverlightApplication7.Page</span>"

<span style="color: blue;">    </span><span
style="color: red;">xmlns</span><span
style="color: blue;">=</span>"<span
style="color: blue;">http://schemas.microsoft.com/client/2007</span>"

<span style="color: blue;">    </span><span
style="color: red;">xmlns:x</span><span
style="color: blue;">=</span>"<span
style="color: blue;">http://schemas.microsoft.com/winfx/2006/xaml</span>"

<span style="color: blue;">    </span><span
style="color: red;">Width</span><span
style="color: blue;">=</span>"<span
style="color: blue;">400</span>"<span style="color: blue;"> </span><span
style="color: red;">Height</span><span
style="color: blue;">=</span>"<span
style="color: blue;">300</span>"<span style="color: blue;">\></span>

<span style="color: blue;">  \<</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">
</span><span style="color: red;">x:Name</span><span
style="color: blue;">=</span>"<span
style="color: blue;">LayoutRoot</span>"<span style="color: blue;">
</span><span style="color: red;">Background</span><span
style="color: blue;">=</span>"<span
style="color: blue;">White</span>"<span style="color: blue;">\></span>

<span style="color: blue;">    \<</span><span
style="color: #a31515;">Button</span><span style="color: blue;">
</span><span style="color: red;">HorizontalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Stretch</span>"<span style="color: blue;">
</span><span style="color: red;">Margin</span><span
style="color: blue;">=</span>"<span
style="color: blue;">44,54,55,45</span>"<span style="color: blue;">
</span><span style="color: red;">VerticalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Stretch</span>"<span style="color: blue;">\></span>

<span style="color: blue;">      **\<**</span><span
style="color: #a31515;">**Button.Template**</span><span
style="color: blue;">**\>**</span>

<span style="color: blue;">**        \<**</span><span
style="color: #a31515;">**ControlTemplate**</span><span
style="color: blue;">\></span>

<span style="color: blue;">          \<</span><span
style="color: #a31515;">Image</span><span style="color: blue;">
</span><span style="color: red;">Height</span><span
style="color: blue;">=</span>"<span style="color: blue;">84</span>"<span
style="color: blue;"> </span><span
style="color: red;">HorizontalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Center</span>"<span style="color: blue;"> 
</span><span style="color: red;">VerticalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Center</span>"<span style="color: blue;">
</span><span style="color: red;">Width</span><span
style="color: blue;">=</span>"<span
style="color: blue;">139</span>"<span style="color: blue;"> </span><span
style="color: red;">Source</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Dock.jpg</span>"<span
style="color: blue;">/\></span>

<span style="color: blue;">**        \</**</span><span
style="color: #a31515;">**ControlTemplate**</span><span
style="color: blue;">**\>**</span>

<span style="color: blue;">**      \</**</span><span
style="color: #a31515;">**Button.Template**</span><span
style="color: blue;">\></span>

<span style="color: blue;">    \</</span><span
style="color: #a31515;">Button</span><span
style="color: blue;">\></span>

<span style="color: blue;">  \</</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">\></span>

<span style="color: blue;">\</</span><span
style="color: #a31515;">UserControl</span><span
style="color: blue;">\></span>

Yukarıdaki kodumuz içerisinde bir Button nesnesinin Template özelliğini
başka bir ControlTemplate atayarak değiştiyoruz. Tanımladığımız
ControlTemplate içerisinde sadece bir adet Image nesnesi var. Böylece
artık düğmemiz sadece bir Image nesnesinden oluşacak oysa programcımız
için bu nesne hala bir Button.

![Bir Button nesnesine benzemiyor değil mi? Ama
öyle.](../media/Silverlight_2_0_icerisinde_ControlTemplating_ve_Style_yapilari/05052008_3.jpg)\
*Bir Button nesnesine benzemiyor değil mi? Ama öyle.*

**Peki tüm bunların anlamı nedir?**

Yukarıdaki iki yapıyı Button.Content ve Button.Template beraber
kullanmanız halinde istediğimiz gibi düğmeler oluşturabilirsiniz. Gelin
şimdi güzel bir dikdörtgen çizelim ve bunu yeni yarattığımız bir Button
nesnesinin Template özelliğine aktaralım.

<span style="color: blue;">\<</span><span
style="color: #a31515;">UserControl</span><span style="color: blue;">
</span><span style="color: red;">x:Class</span><span
style="color: blue;">=</span>"<span
style="color: blue;">SilverlightApplication7.Page</span>"

<span style="color: blue;">    </span><span
style="color: red;">xmlns</span><span
style="color: blue;">=</span>"<span
style="color: blue;">http://schemas.microsoft.com/client/2007</span>"

<span style="color: blue;">    </span><span
style="color: red;">xmlns:x</span><span
style="color: blue;">=</span>"<span
style="color: blue;">http://schemas.microsoft.com/winfx/2006/xaml</span>"

<span style="color: blue;">    </span><span
style="color: red;">Width</span><span
style="color: blue;">=</span>"<span
style="color: blue;">400</span>"<span style="color: blue;"> </span><span
style="color: red;">Height</span><span
style="color: blue;">=</span>"<span
style="color: blue;">300</span>"<span style="color: blue;">\></span>

<span style="color: blue;">  \<</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">
</span><span style="color: red;">x:Name</span><span
style="color: blue;">=</span>"<span
style="color: blue;">LayoutRoot</span>"<span style="color: blue;">
</span><span style="color: red;">Background</span><span
style="color: blue;">=</span>"<span
style="color: blue;">White</span>"<span style="color: blue;">\></span>

<span style="color: blue;">    \<</span><span
style="color: #a31515;">Button</span><span style="color: blue;">
</span><span style="color: red;">HorizontalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Stretch</span>"<span style="color: blue;">
</span><span style="color: red;">Margin</span><span
style="color: blue;">=</span>"<span
style="color: blue;">44,54,55,45</span>"<span style="color: blue;">
</span><span style="color: red;">VerticalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Stretch</span>"<span style="color: blue;">\></span>

<span style="color: blue;">      **\<**</span><span
style="color: #a31515;">**Button.Template**</span><span
style="color: blue;">**\>**</span>

<span style="color: blue;">**        \<**</span><span
style="color: #a31515;">**ControlTemplate**</span><span
style="color: blue;">**\>**</span>

<span style="color: blue;">**          \<**</span><span
style="color: #a31515;">**Rectangle**</span><span style="color: blue;">
</span><span style="color: red;">Stroke</span><span
style="color: blue;">=</span>"<span
style="color: blue;">\#FF000000</span>"<span style="color: blue;">
</span><span style="color: red;">RadiusY</span><span
style="color: blue;">=</span>"<span style="color: blue;">16</span>"<span
style="color: blue;"> </span><span
style="color: red;">RadiusX</span><span
style="color: blue;">=</span>"<span style="color: blue;">16</span>"<span
style="color: blue;"> </span><span style="color: red;">
**Margin**</span><span style="color: blue;">**=**</span>"<span
style="color: blue;">**{TemplateBinding Margin}**</span>"<span
style="color: blue;">\></span>

<span style="color: blue;">            \<</span><span
style="color: #a31515;">Rectangle.Fill</span><span
style="color: blue;">\></span>

<span style="color: blue;">              \<</span><span
style="color: #a31515;">RadialGradientBrush</span><span
style="color: blue;">\></span>

<span style="color: blue;">                \<</span><span
style="color: #a31515;">GradientStop</span><span style="color: blue;">
</span><span style="color: red;">Color</span><span
style="color: blue;">=</span>"<span
style="color: blue;">\#FFFF0000</span>"<span style="color: blue;">
</span><span style="color: red;">Offset</span><span
style="color: blue;">=</span>"<span style="color: blue;">1</span>"<span
style="color: blue;">/\></span>

<span style="color: blue;">                \<</span><span
style="color: #a31515;">GradientStop</span><span style="color: blue;">
</span><span style="color: red;">Color</span><span
style="color: blue;">=</span>"<span
style="color: blue;">\#FFFFFFFF</span>"<span style="color: blue;">
</span><span style="color: red;">Offset</span><span
style="color: blue;">=</span>"<span style="color: blue;">0</span>"<span
style="color: blue;">/\></span>

<span style="color: blue;">              \</</span><span
style="color: #a31515;">RadialGradientBrush</span><span
style="color: blue;">\></span>

<span style="color: blue;">            \</</span><span
style="color: #a31515;">Rectangle.Fill</span><span
style="color: blue;">\></span>

<span style="color: blue;">      **    \</**</span><span
style="color: #a31515;">**Rectangle**</span><span
style="color: blue;">**\>**</span>

<span style="color: blue;">**        \</**</span><span
style="color: #a31515;">**ControlTemplate**</span><span
style="color: blue;">**\>**</span>

<span style="color: blue;">**      \</**</span><span
style="color: #a31515;">**Button.Template**</span><span
style="color: blue;">\></span>

<span style="color: blue;">    \</</span><span
style="color: #a31515;">Button</span><span
style="color: blue;">\></span>

<span style="color: blue;">  \</</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">\></span>

<span style="color: blue;">\</</span><span
style="color: #a31515;">UserControl</span><span
style="color: blue;">\></span>

Yukarıdaki kod içerisinde en önemli nokta Button'umuzun
**ControlTemplate'i** içerisindeki **Rectangle** nesnesinin **Margin**
özelliklerinin **TemplateBinding** ile içerisinde olduğu kontrolün
**Margin** özelliğine bağlanmış olması. Böylece Button nesnesi büyüdükçe
otomatik olarak ControlTemplate içerisinde tanımlanmış Rectangle da
büyüyecek. Her zaman olduğu gibi eğer ControlTemplate içerisinden birden
çok Silverlight kontrolü kullanarak görsel özellikler tanımlamak
isterseniz bir Container Element kullanmanız gerekecektir. Bizim
örneğimizde tek nesne bulunduğu için gerek olmadı.

![Yeni Silverlight Button nesnemiz
karşınızda!](../media/Silverlight_2_0_icerisinde_ControlTemplating_ve_Style_yapilari/05052008_4.jpg)\
*Yeni Silverlight Button nesnemiz karşınızda!*

Gördüğünüz gibi düğmemizin görsel özellikleri tamamlandı. Peki ya bu
düğmenin içerisine yazılacak olan yazı nerede? Şu anda kontrolün bu hali
ile **Button.Content** özelliğine farklı değerler verdiğiniz görsel
anlamda herhangi bir değişiklik görmeyeceksiniz. Çünkü kontrolün
**ControlTemplate** tanımı içerisinde herhangi bir şekilde **Content**
içeriğinin konacağı bir yer ayarlanmış değil. Yani **Button.Content**
içerisine konacak nesnelerin veya yazının **ControlTemplate** içerisinde
nereye konacağını tanımlamamız gerekiyor.

<span style="color: blue;">\<</span><span
style="color: #a31515;">UserControl</span><span style="color: blue;">
</span><span style="color: red;">x:Class</span><span
style="color: blue;">=</span>"<span
style="color: blue;">SilverlightApplication7.Page</span>"

<span style="color: blue;">    </span><span
style="color: red;">xmlns</span><span
style="color: blue;">=</span>"<span
style="color: blue;">http://schemas.microsoft.com/client/2007</span>"

<span style="color: blue;">    </span><span
style="color: red;">xmlns:x</span><span
style="color: blue;">=</span>"<span
style="color: blue;">http://schemas.microsoft.com/winfx/2006/xaml</span>"

<span style="color: blue;">    </span><span
style="color: red;">Width</span><span
style="color: blue;">=</span>"<span
style="color: blue;">400</span>"<span style="color: blue;"> </span><span
style="color: red;">Height</span><span
style="color: blue;">=</span>"<span
style="color: blue;">300</span>"<span style="color: blue;">\></span>

<span style="color: blue;">  \<</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">
</span><span style="color: red;">x:Name</span><span
style="color: blue;">=</span>"<span
style="color: blue;">LayoutRoot</span>"<span style="color: blue;">
</span><span style="color: red;">Background</span><span
style="color: blue;">=</span>"<span
style="color: blue;">White</span>"<span style="color: blue;">\></span>

<span style="color: blue;">    \<</span><span
style="color: #a31515;">Button</span><span style="color: blue;">
</span><span style="color: red;">HorizontalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Stretch</span>"<span style="color: blue;">
</span><span style="color: red;">Margin</span><span
style="color: blue;">=</span>"<span
style="color: blue;">44,54,55,45</span>"<span style="color: blue;">
</span><span style="color: red;">VerticalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Stretch</span>"<span style="color: blue;">\></span>

<span style="color: blue;">      \<</span><span
style="color: #a31515;">**Button.Content**</span><span
style="color: blue;">\></span>

<span style="color: blue;">        \<</span><span
style="color: #a31515;">TextBlock</span><span style="color: blue;">
</span><span style="color: red;">VerticalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Center</span>"<span style="color: blue;">
</span><span style="color: red;">Text</span><span
style="color: blue;">=</span>"<span
style="color: blue;">TextBlock</span>"<span style="color: blue;">
</span><span style="color: red;">TextWrapping</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Wrap</span>"<span style="color: blue;">/\></span>

<span style="color: blue;">      \</</span><span
style="color: #a31515;">**Button.Content**</span><span
style="color: blue;">\></span>

<span style="color: blue;">      \<</span><span
style="color: #a31515;">**Button.Template**</span><span
style="color: blue;">\></span>

<span style="color: blue;">        \<</span><span
style="color: #a31515;">ControlTemplate</span><span
style="color: blue;"> </span><span style="color: red;">
**TargetType**</span><span style="color: blue;">**=**</span>"<span
style="color: blue;">**Button**</span>"<span
style="color: blue;">\></span>

<span style="color: blue;">          \<</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">\></span>

<span style="color: blue;">            \<</span><span
style="color: #a31515;">Rectangle</span><span style="color: blue;">
</span><span style="color: red;">Stroke</span><span
style="color: blue;">=</span>"<span
style="color: blue;">\#FF000000</span>"<span style="color: blue;">
</span><span style="color: red;">RadiusY</span><span
style="color: blue;">=</span>"<span style="color: blue;">16</span>"<span
style="color: blue;"> </span><span
style="color: red;">RadiusX</span><span
style="color: blue;">=</span>"<span style="color: blue;">16</span>"<span
style="color: blue;"> </span><span
style="color: red;">Margin</span><span
style="color: blue;">=</span>"<span
style="color: blue;">{TemplateBinding Margin}</span>"<span
style="color: blue;">\></span>

<span style="color: blue;">              \<</span><span
style="color: #a31515;">Rectangle.Fill</span><span
style="color: blue;">\></span>

<span style="color: blue;">                \<</span><span
style="color: #a31515;">RadialGradientBrush</span><span
style="color: blue;">\></span>

<span style="color: blue;">                  \<</span><span
style="color: #a31515;">GradientStop</span><span style="color: blue;">
</span><span style="color: red;">Color</span><span
style="color: blue;">=</span>"<span
style="color: blue;">\#FFFF0000</span>"<span style="color: blue;">
</span><span style="color: red;">Offset</span><span
style="color: blue;">=</span>"<span style="color: blue;">1</span>"<span
style="color: blue;">/\></span>

<span style="color: blue;">                  \<</span><span
style="color: #a31515;">GradientStop</span><span style="color: blue;">
</span><span style="color: red;">Color</span><span
style="color: blue;">=</span>"<span
style="color: blue;">\#FFFFFFFF</span>"<span style="color: blue;">
</span><span style="color: red;">Offset</span><span
style="color: blue;">=</span>"<span style="color: blue;">0</span>"<span
style="color: blue;">/\></span>

<span style="color: blue;">                \</</span><span
style="color: #a31515;">RadialGradientBrush</span><span
style="color: blue;">\></span>

<span style="color: blue;">              \</</span><span
style="color: #a31515;">Rectangle.Fill</span><span
style="color: blue;">\></span>

<span style="color: blue;">            \</</span><span
style="color: #a31515;">Rectangle</span><span
style="color: blue;">\></span>

<span style="color: blue;">            \<</span><span
style="color: #a31515;">**ContentPresenter**</span><span
style="color: blue;"> </span><span style="color: red;">
**Content**</span><span style="color: blue;">**=**</span>"<span
style="color: blue;">**{TemplateBinding Content}**</span>"<span
style="color: blue;"> </span><span
style="color: red;">HorizontalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Center</span>"<span style="color: blue;">
</span><span style="color: red;">VerticalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Center</span>"<span style="color: blue;">/\></span>

<span style="color: blue;">          \</</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">\></span>

<span style="color: blue;">        \</</span><span
style="color: #a31515;">ControlTemplate</span><span
style="color: blue;">\></span>

<span style="color: blue;">      \</</span><span
style="color: #a31515;">**Button.Template**</span><span
style="color: blue;">\></span>

<span style="color: blue;">    \</</span><span
style="color: #a31515;">Button</span><span
style="color: blue;">\></span>

<span style="color: blue;">  \</</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">\></span>

<span style="color: blue;">\</</span><span
style="color: #a31515;">UserControl</span><span
style="color: blue;">\></span>

Yukarıdaki kod içerisinde tanımladığımız Button'ın ControlTemplate'i
içerisinde bir **ContentPresenter** nesnesi bulunuyor. Bu
ContentPresenter'ın **Content** özelliği ise **TemplateBinding** ile ana
Button nesnesinin Content'ına bağlanmış durumda. Böylece Button'un
**Button.Content'**ı içerisindeki tüm Silverlight kontrolleri otomatik
olarak **ControlTemplate** içerisindeki **ContentPresenter** içerisine
yerleştirilmiş olacaktır. Bu noktada dikkat etmemiz gereken önemli bir
ayar var, ControlTemplate'ın **TargetType'ının** özel olarak ayarlanmış
olması gerekiyor, aksi halde söz konusu ControlTemplate bir Button
içerisinde bulunmasına rağmen doğru olarak çalışmıyor. Umarım Beta
sürümü sonrasında sürümlerde bu yapı düzeltilir, şu anki çalışma yapısı
pek mantıklı değil.

![Button'umuzun son
hali.](../media/Silverlight_2_0_icerisinde_ControlTemplating_ve_Style_yapilari/05052008_5.jpg)\
*Button'umuzun son hali.*

**Peki neden doğrudan herşeyi ControlTemplate içerisine koymuyoruz?**

Çok mantıklı bir soru. Çünkü bu noktaya kadar yaptığımız tüm görsel
ayarların üzerinden bir merkezi yönetim sistemi kurmak istiyoruz. Bir
önceki adımda Button nesnemizin Template özelliğini ayarlamıştık. Şimdi
sıra geldi söz konusu Template'ı birden çok kontrol tarafından
kullanılabilir hale getirmeye.

<span style="color: blue;">\<</span><span
style="color: #a31515;">UserControl</span><span style="color: blue;">
</span><span style="color: red;">x:Class</span><span
style="color: blue;">=</span>"<span
style="color: blue;">SilverlightApplication7.Page</span>"

<span style="color: blue;">    </span><span
style="color: red;">xmlns</span><span
style="color: blue;">=</span>"<span
style="color: blue;">http://schemas.microsoft.com/client/2007</span>"

<span style="color: blue;">    </span><span
style="color: red;">xmlns:x</span><span
style="color: blue;">=</span>"<span
style="color: blue;">http://schemas.microsoft.com/winfx/2006/xaml</span>"

<span style="color: blue;">    </span><span
style="color: red;">Width</span><span
style="color: blue;">=</span>"<span
style="color: blue;">400</span>"<span style="color: blue;"> </span><span
style="color: red;">Height</span><span
style="color: blue;">=</span>"<span
style="color: blue;">300</span>"<span style="color: blue;">\></span>

<span style="color: blue;">  **\<**</span><span
style="color: #a31515;">**UserControl.Resources**</span><span
style="color: blue;">**\>**</span>

<span style="color: blue;">**    \<**</span><span
style="color: #a31515;">**Style**</span><span style="color: blue;"> ****
</span><span style="color: red;">**x:Key**</span><span
style="color: blue;">**=**</span>"<span
style="color: blue;">**Dugme**</span>"<span style="color: blue;"> ****
</span><span style="color: red;">**TargetType**</span><span
style="color: blue;">**=**</span>"<span
style="color: blue;">**Button**</span>"<span
style="color: blue;">**\>**</span>

<span style="color: blue;">**      \<**</span><span
style="color: #a31515;">**Setter**</span><span style="color: blue;">
**** </span><span style="color: red;">**Property**</span><span
style="color: blue;">**=**</span>"<span
style="color: blue;">**Template**</span>"<span
style="color: blue;">**\>**</span>

<span style="color: blue;">**        \<**</span><span
style="color: #a31515;">**Setter.Value**</span><span
style="color: blue;">\></span>

<span style="color: blue;">          \<</span><span
style="color: #a31515;">ControlTemplate</span><span
style="color: blue;"> </span><span
style="color: red;">TargetType</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Button</span>"<span style="color: blue;">\></span>

<span style="color: blue;">            \<</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">\></span>

<span style="color: blue;">              \<</span><span
style="color: #a31515;">Rectangle</span><span style="color: blue;">
</span><span style="color: red;">Stroke</span><span
style="color: blue;">=</span>"<span
style="color: blue;">\#FF000000</span>"<span style="color: blue;">
</span><span style="color: red;">RadiusY</span><span
style="color: blue;">=</span>"<span style="color: blue;">16</span>"<span
style="color: blue;"> </span><span
style="color: red;">RadiusX</span><span
style="color: blue;">=</span>"<span style="color: blue;">16</span>"<span
style="color: blue;"> </span><span
style="color: red;">Margin</span><span
style="color: blue;">=</span>"<span
style="color: blue;">{TemplateBinding Margin}</span>"<span
style="color: blue;">\></span>

<span style="color: blue;">                \<</span><span
style="color: #a31515;">Rectangle.Fill</span><span
style="color: blue;">\></span>

<span style="color: blue;">                  \<</span><span
style="color: #a31515;">RadialGradientBrush</span><span
style="color: blue;">\></span>

<span style="color: blue;">                    \<</span><span
style="color: #a31515;">GradientStop</span><span style="color: blue;">
</span><span style="color: red;">Color</span><span
style="color: blue;">=</span>"<span
style="color: blue;">\#FFFF0000</span>"<span style="color: blue;">
</span><span style="color: red;">Offset</span><span
style="color: blue;">=</span>"<span style="color: blue;">1</span>"<span
style="color: blue;">/\></span>

<span style="color: blue;">                    \<</span><span
style="color: #a31515;">GradientStop</span><span style="color: blue;">
</span><span style="color: red;">Color</span><span
style="color: blue;">=</span>"<span
style="color: blue;">\#FFFFFFFF</span>"<span style="color: blue;">
</span><span style="color: red;">Offset</span><span
style="color: blue;">=</span>"<span style="color: blue;">0</span>"<span
style="color: blue;">/\></span>

<span style="color: blue;">                  \</</span><span
style="color: #a31515;">RadialGradientBrush</span><span
style="color: blue;">\></span>

<span style="color: blue;">                \</</span><span
style="color: #a31515;">Rectangle.Fill</span><span
style="color: blue;">\></span>

<span style="color: blue;">              \</</span><span
style="color: #a31515;">Rectangle</span><span
style="color: blue;">\></span>

<span style="color: blue;">              \<</span><span
style="color: #a31515;">ContentPresenter</span><span
style="color: blue;"> </span><span
style="color: red;">Content</span><span
style="color: blue;">=</span>"<span
style="color: blue;">{TemplateBinding Content}</span>"<span
style="color: blue;"> </span><span
style="color: red;">HorizontalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Center</span>"<span style="color: blue;">
</span><span style="color: red;">VerticalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Center</span>"<span style="color: blue;">/\></span>

<span style="color: blue;">            \</</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">\></span>

<span style="color: blue;">          \</</span><span
style="color: #a31515;">ControlTemplate</span><span
style="color: blue;">\></span>

<span style="color: blue;">      **  \</**</span><span
style="color: #a31515;">**Setter.Value**</span><span
style="color: blue;">**\>**</span>

<span style="color: blue;">**      \</**</span><span
style="color: #a31515;">**Setter**</span><span
style="color: blue;">**\>**</span>

<span style="color: blue;">**    \</**</span><span
style="color: #a31515;">**Style**</span><span
style="color: blue;">**\>**</span>

<span style="color: blue;">**  \</**</span><span
style="color: #a31515;">**UserControl.Resources**</span><span
style="color: blue;">\></span>

<span style="color: blue;">  \<</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">
</span><span style="color: red;">x:Name</span><span
style="color: blue;">=</span>"<span
style="color: blue;">LayoutRoot</span>"<span style="color: blue;">
</span><span style="color: red;">Background</span><span
style="color: blue;">=</span>"<span
style="color: blue;">White</span>"<span style="color: blue;">\></span>

<span style="color: blue;">    \<</span><span
style="color: #a31515;">Button</span><span style="color: blue;">
</span><span style="color: red;"> **Style**</span><span
style="color: blue;">**=**</span>"<span
style="color: blue;">**{StaticResource Dugme}**</span>"<span
style="color: blue;"> </span><span
style="color: red;">HorizontalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Stretch</span>"<span style="color: blue;">
</span><span style="color: red;">Margin</span><span
style="color: blue;">=</span>"<span
style="color: blue;">44,54,55,45</span>"<span style="color: blue;">
</span><span style="color: red;">VerticalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Stretch</span>"<span style="color: blue;">\></span>

<span style="color: blue;">      \<</span><span
style="color: #a31515;">Button.Content</span><span
style="color: blue;">\></span>

<span style="color: blue;">        \<</span><span
style="color: #a31515;">TextBlock</span><span style="color: blue;">
</span><span style="color: red;">VerticalAlignment</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Center</span>"<span style="color: blue;">
</span><span style="color: red;">Text</span><span
style="color: blue;">=</span>"<span
style="color: blue;">TextBlock</span>"<span style="color: blue;">
</span><span style="color: red;">TextWrapping</span><span
style="color: blue;">=</span>"<span
style="color: blue;">Wrap</span>"<span style="color: blue;">/\></span>

<span style="color: blue;">      \</</span><span
style="color: #a31515;">Button.Content</span><span
style="color: blue;">\></span>

<span style="color: blue;">    \</</span><span
style="color: #a31515;">Button</span><span
style="color: blue;">\></span>

<span style="color: blue;">  \</</span><span
style="color: #a31515;">Grid</span><span style="color: blue;">\></span>

<span style="color: blue;">\</</span><span
style="color: #a31515;">UserControl</span><span
style="color: blue;">\></span>

Template tanımımızı Button'un içerisinden keserek doğrudan
**UserControl.Resources** altına alıyoruz. Böylece artık tüm Silverlight
XAML sayfası içerisinde kullanabileceğiz. Tabi bunu yaparken bir
**Style** tanımlıyoruz ve **TargetType** özelliğini de **Button** olarak
düzenliyoruz. Style içerisinde bir **Setter** yerleştirerek hedef
kontrolün **Template** özelliğini değiştirmek istediğimizi de
belirttikten sonra **Setter.Value** içerisine daha önce hazırladığımız
Template yapısını yerleştiriyoruz.

Son olarak adını **Dugme** koyduğumuz bu Style'ı kullanmak istediğimiz
tüm **Button** kontrollerinin **Style** özelliğini **StaticResource**
olarak stilimize bağlayarak kullanabiliyoruz. Böylece tüm düğmelerimiz
aynı ControlTemplate'i kullanacaklar ve hepsi de kendi içerisindeki
**Content'ı** hedef Style içerisindeki **ContentPresenter'a**
yerleştirerek gösterecekler. Herhangi bir görsel değişiklik gerektiğinde
ise merkezi olarak Style'ımızı değiştirerek ilerleyebileceğiz.

İsterseniz bu Stlye'ınızı Silverlight uygulamasının **App.xaml** dosyası
içerisine koyarak Silverlight uygulamanızdaki tüm XAML dosyaları
içerisinde kullanılabilir hale de getirebilirsiniz.

Hepinize kolay gelsin.


*Bu yazi http://daron.yondem.com adresinde, 2008-5-6 tarihinde yayinlanmistir.*